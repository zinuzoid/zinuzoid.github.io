(this["webpackJsonpcondor-server-list"]=this["webpackJsonpcondor-server-list"]||[]).push([[0],{34:function(e,t,r){e.exports=r(75)},39:function(e,t,r){},40:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(14),o=r.n(c),s=(r(39),r(40),r(8)),u=r(13),i=r(20),l=r.n(i);function d(e,t){return l()("tr[id^=table_6_row]",e).map((function(e,r){return r.children[t].textContent})).toArray()}var p=Object(u.b)({name:"condorServerList",initialState:{loading:!1,listData:[],requestLastTimeSpent:null,requestLastTimestamp:null,errorMessage:null},reducers:{fetchList:function(e){e.loading=!0,e.errorMessage=null},fetchListRequestError:function(e,t){e.loading=!1,e.errorMessage=t.errorMessage,e.requestLastTimestamp=Date.now()},fetchListRequestSuccess:function(e,t){e.loading=!1,e.errorMessage=null,e.listData=function(e){for(var t=l.a.parseHTML(e),r=d(t,2),n=d(t,4),a=d(t,5),c=d(t,6),o=d(t,7),s=d(t,11),u=[],i=0;i<r.length;i++)u.push({name:r[i],landscape:a[i],serverStatus:n[i],length:c[i],playerNum:o[i],isPrivate:s[i]});return u}(t.html_body),e.requestLastTimeSpent=t.time_spent,e.requestLastTimestamp=Date.now()}}}),m=function(e){return e.condorServerList.loading},f=function(e){return e.condorServerList.errorMessage},h=function(e){return e.condorServerList.listData.filter((function(e){return"No"===e.isPrivate&&(e.landscape.includes("Slovenia")||e.landscape.includes("South East UK"))&&e.serverStatus.includes("Join")})).sort((function(e,t){var r=e.landscape.localeCompare(t.landscape);if(0!==r)return r;var n=e.playerNum.includes("/")?e.playerNum.split("/")[0]:e.playerNum;return(t.playerNum.includes("/")?t.playerNum.split("/")[0]:t.playerNum)-n}))},v=function(e){return e.condorServerList.requestLastTimeSpent},b=function(e){return e.condorServerList.requestLastTimestamp},g=p.actions,w=g.fetchList,E=g.fetchListRequestError,y=g.fetchListRequestSuccess,L=p.reducer,S=r(25),j=r(27),O=r(29),k=r(28);function x(){var e=Object(j.a)(["\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return x=function(){return e},e}var M=O.a.div(x());var T=function(e){var t=e.columns,r=e.data,n=Object(k.useTable)({columns:t,data:r}),c=n.getTableProps,o=n.getTableBodyProps,s=n.headerGroups,u=n.rows,i=n.prepareRow;return a.a.createElement("table",c(),a.a.createElement("thead",null,s.map((function(e){return a.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return a.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),a.a.createElement("tbody",o(),u.map((function(e,t){return i(e),a.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return a.a.createElement("td",e.getCellProps(),e.render("Cell"))})))}))))},q=r(31),N=r.n(q);function P(){var e=Object(s.c)(v),t=Object(s.c)(b),r=Object(s.b)();Object(n.useEffect)(o,[]),Object(n.useEffect)((function(){var e=setTimeout((function(){o()}),6e4);return function(){return clearTimeout(e)}}),[t]);var c=a.a.useMemo((function(){return[{Header:"Name",accessor:"name"},{Header:"Landscape",accessor:"landscape"},{Header:"ServerStatus",accessor:"serverStatus"},{Header:"Task",accessor:"length"},{Header:"Players",accessor:"playerNum"},{Header:"Private",accessor:"isPrivate"}]}),[]);function o(){r(w())}return a.a.createElement("div",null,a.a.createElement("h1",null,"Condor"),a.a.createElement("p",{style:{color:"red"}},Object(s.c)(f)),a.a.createElement("span",null,a.a.createElement(S.MoonLoader,{loading:Object(s.c)(m)})),e&&a.a.createElement("p",null,Math.round(e),"ms / ",N()(t).format("MMMM Do YYYY, h:mm:ss a")),a.a.createElement("button",{onClick:o},"Fetch"),a.a.createElement(M,null,a.a.createElement(T,{columns:c,data:Object(s.c)(h)})))}var H=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(P,null))},_=r(32),R=r(7),C=r.n(R),D=r(12),Y=C.a.mark(J),B=C.a.mark(W);function J(){var e,t,r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,"https://cors-anywhere.herokuapp.com/","https://cors-anywhere.herokuapp.com/https://www.condorsoaring.com/serverlist/?wdt_search=cndr2",e=performance.now(),n.next=6,fetch("https://cors-anywhere.herokuapp.com/https://www.condorsoaring.com/serverlist/?wdt_search=cndr2",{headers:{"X-Requested-With":"node"}});case 6:return t=n.sent,r=performance.now(),n.t0=D.b,n.t1=y.type,n.next=12,t.text();case 12:return n.t2=n.sent,n.t3=r-e,n.t4={type:n.t1,html_body:n.t2,time_spent:n.t3},n.next=17,(0,n.t0)(n.t4);case 17:n.next=24;break;case 19:return n.prev=19,n.t5=n.catch(0),console.error(n.t5),n.next=24,Object(D.b)({type:E.type,errorMessage:n.t5.toString()});case 24:case"end":return n.stop()}}),Y,null,[[0,19]])}function W(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)(w.type,J);case 2:case"end":return e.stop()}}),B)}var A=r(33),G=C.a.mark(F);function F(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([W()]);case 2:case"end":return e.stop()}}),G)}var I=Object(A.a)(),K=Object(u.a)({reducer:{condorServerList:L},middleware:[I].concat(Object(_.a)(Object(u.c)()))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));I.run(F),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,{store:K},a.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.8bc272e8.chunk.js.map